datadir="/var/lib/proxysql"
admin_variables =
{
    admin_credentials="admin:admin"
    mysql_ifaces="0.0.0.0:6032"
}

mysql_variables =
{
    threads=2
    max_connections=2048
}

mysql_servers =
(
    { address="mysql-replica1", port=3307, hostgroup=0, max_connections=100 },
    { address="mysql-primary", port=3306, hostgroup=1, max_connections=100 },
    { address="mysql-replica2", port=3308, hostgroup=1, max_connections=100 }
)

mysql_users =
(
    { username = "proxysql_user", password = "proxysql_password", default_hostgroup = 1 }
)

mysql_query_rules =
(
    { rule_id=1, active=1, match_pattern="^SELECT.*", destination_hostgroup=1, apply=1 },
    { rule_id=2, active=1, match_pattern=".*", destination_hostgroup=0, apply=1 }
)
